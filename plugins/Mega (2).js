function _0x54d9(){const _0x114bc0=['\x20attempts','MEGA\x20Hub','replace','[01:20\x20PM\x20+0530]\x20Stream\x20error\x20on\x20attempt\x20','[01:20\x20PM\x20+0530]\x20Error\x20in\x20mega\x20command:','\x20failed,\x20size\x20','log','BAE5','getForwardProps','match','download','1012840etlkCL','[01:20\x20PM\x20+0530]\x20Processing\x20MEGA\x20URL:\x20','application/octet-stream','megajs','name','[01:20\x20PM\x20+0530]\x20Download\x20progress:\x20','finish','Download\x20Started','Invalid\x20URL','%\x20(','MEGA\x20Download',',\x20Size:\x20','\x20MB)...','📥\x20','temp','Use:\x20.mega\x20<MEGA\x20URL>\x0a✨\x20Ex:\x20.mega\x20https://mega.nz/file/example#example','4648301IRicpY','52anQOzR','Unknown\x20error','5587720XAxqFn','602214giotxh','6WNZAAU','loadAttributes','sendMessage','\x20MB\x0a\x0aDownloaded\x20from\x20MEGA!','end','box','abs','4037514vlnpvH','message','key','data','Sorry,\x20an\x20error\x20occurred:\x0a\x0a','%\x20completed','137695ZRiCVA','\x0a\x0aPlease\x20try\x20again\x20later','mimeType','Download\x20Progress','\x20bytes,\x20retrying...','join','unlink','9YPMqcu','size','createWriteStream','\x20bytes)\x20does\x20not\x20match\x20expected\x20(','error','Size\x20Error','Error','Please\x20provide\x20a\x20valid\x20MEGA\x20URL\x20(e.g.,\x20https://mega.nz/file/example#example)','508690CqXvxK','[01:20\x20PM\x20+0530]\x20File\x20attributes\x20loaded:\x20','toFixed','substr','pipe','random','mega_hub','\x20bytes)','trim','resultEmojis','stat','File\x20size\x20('];_0x54d9=function(){return _0x114bc0;};return _0x54d9();}const _0x30c840=_0x422b;function _0x422b(_0x2be484,_0x5c6cc0){const _0x54d96b=_0x54d9();return _0x422b=function(_0x422ba4,_0x4e2ff4){_0x422ba4=_0x422ba4-0xd7;let _0x570010=_0x54d96b[_0x422ba4];return _0x570010;},_0x422b(_0x2be484,_0x5c6cc0);}(function(_0x14bac0,_0x3dbfc7){const _0x1850cd=_0x422b,_0x5d0aa4=_0x14bac0();while(!![]){try{const _0x1dac96=parseInt(_0x1850cd(0xf6))/0x1+-parseInt(_0x1850cd(0xda))/0x2*(parseInt(_0x1850cd(0xd9))/0x3)+parseInt(_0x1850cd(0x11e))/0x4*(-parseInt(_0x1850cd(0xe7))/0x5)+parseInt(_0x1850cd(0xe1))/0x6+-parseInt(_0x1850cd(0x11d))/0x7+parseInt(_0x1850cd(0xd8))/0x8+parseInt(_0x1850cd(0xee))/0x9*(parseInt(_0x1850cd(0x10d))/0xa);if(_0x1dac96===_0x3dbfc7)break;else _0x5d0aa4['push'](_0x5d0aa4['shift']());}catch(_0x2126ad){_0x5d0aa4['push'](_0x5d0aa4['shift']());}}}(_0x54d9,0x572e6));const {cmd}=require('../command'),{File}=require(_0x30c840(0x110)),fs=require('fs'),fsp=require('fs')['promises'],path=require('path'),tempDir=path[_0x30c840(0xec)](__dirname,_0x30c840(0x11b)),ensureTempDir=async()=>{const _0x541f7d=_0x30c840;try{await fsp['mkdir'](tempDir,{'recursive':!![]});}catch(_0x139fd9){console[_0x541f7d(0xf2)]('[01:20\x20PM\x20+0530]\x20Failed\x20to\x20create\x20temp\x20directory:\x20'+_0x139fd9[_0x541f7d(0xe2)]);}},simpleTheme={'box':function(_0x1f2a8a,_0x3b41b4){return'🎬\x20MEGA\x20Hub\x20🎬\x0a\x0a'+_0x1f2a8a+'\x0a\x0a'+_0x3b41b4;},'getForwardProps':function(){const _0x3f54b2=_0x30c840;return{'contextInfo':{'forwardingScore':0x3e7,'isForwarded':!![],'stanzaId':_0x3f54b2(0x109)+Math[_0x3f54b2(0xfb)]()['toString'](0x10)[_0x3f54b2(0xf9)](0x2,0xc)['toUpperCase'](),'mentionedJid':[],'conversionData':{'conversionDelaySeconds':0x0,'conversionSource':_0x3f54b2(0xfc),'conversionType':_0x3f54b2(0xe2)}}};},'resultEmojis':['📥','🎥','📤','📦']};cmd({'pattern':'mega','react':'📥','desc':'Download\x20files\x20from\x20MEGA\x20links','category':_0x30c840(0x103),'filename':__filename},async(_0x67dea1,_0x34d364,_0x4f1b17,{from:_0x548355,q:_0x4157a2,pushname:_0x87b598,reply:_0x15cc53})=>{const _0x1e2c6b=_0x30c840;if(!_0x4157a2)return _0x15cc53(simpleTheme[_0x1e2c6b(0xdf)](_0x1e2c6b(0x117),_0x1e2c6b(0x11c)));try{await ensureTempDir();const _0x54d548=_0x4157a2[_0x1e2c6b(0xfe)]();if(!_0x54d548[_0x1e2c6b(0x10b)](/^https:\/\/mega\.(nz|co\.nz)\/(?:file|folder)\/[#!\w-]+$/))return _0x15cc53(simpleTheme['box'](_0x1e2c6b(0x115),_0x1e2c6b(0xf5)));console['log'](_0x1e2c6b(0x10e)+_0x54d548);const _0x3e0ca4=File['fromURL'](_0x54d548);await _0x3e0ca4[_0x1e2c6b(0xdb)](),console[_0x1e2c6b(0x108)](_0x1e2c6b(0xf7)+_0x3e0ca4[_0x1e2c6b(0x111)]+_0x1e2c6b(0x118)+_0x3e0ca4[_0x1e2c6b(0xef)]+'\x20bytes');const _0x2a0f11=0x2*0x400*0x400*0x400;if(_0x3e0ca4[_0x1e2c6b(0xef)]>_0x2a0f11)return _0x15cc53(simpleTheme['box'](_0x1e2c6b(0xf3),_0x1e2c6b(0x101)+(_0x3e0ca4[_0x1e2c6b(0xef)]/(0x400*0x400))[_0x1e2c6b(0xf8)](0x2)+'\x20MB)\x20exceeds\x20WhatsApp\x27s\x202GB\x20limit.'));await _0x15cc53(simpleTheme[_0x1e2c6b(0xdf)](_0x1e2c6b(0x114),'Downloading\x20'+_0x3e0ca4[_0x1e2c6b(0x111)]+'\x20('+(_0x3e0ca4[_0x1e2c6b(0xef)]/(0x400*0x400))['toFixed'](0x2)+_0x1e2c6b(0x119)));const _0x2ae167=path[_0x1e2c6b(0xec)](tempDir,_0x3e0ca4[_0x1e2c6b(0x111)][_0x1e2c6b(0x104)](/[^\w\s.]/gi,'_'));let _0x3fc2cc=0x0;const _0x33d824=0x4;let _0x33ff28=0x0,_0x5e8ef4=0x0;while(_0x3fc2cc<_0x33d824){const _0x186773=fs[_0x1e2c6b(0xf0)](_0x2ae167),_0x1b4641=_0x3e0ca4[_0x1e2c6b(0x10c)]({'timeout':0x927c0});_0x1b4641['on'](_0x1e2c6b(0xe4),_0x34c7f3=>{const _0xedcbe9=_0x1e2c6b;_0x33ff28+=_0x34c7f3['length'];const _0x4db417=(_0x33ff28/_0x3e0ca4[_0xedcbe9(0xef)]*0x64)['toFixed'](0x1);Date['now']()-_0x5e8ef4>0x7530&&(console['log'](_0xedcbe9(0x112)+_0x4db417+_0xedcbe9(0x116)+_0x33ff28+_0xedcbe9(0xfd)),_0x15cc53(simpleTheme['box'](_0xedcbe9(0xea),_0x3e0ca4[_0xedcbe9(0x111)]+':\x20'+_0x4db417+_0xedcbe9(0xe6))),_0x5e8ef4=Date['now']());}),_0x1b4641['on'](_0x1e2c6b(0xf2),_0x4bc5cb=>{const _0x496e6a=_0x1e2c6b;console[_0x496e6a(0xf2)](_0x496e6a(0x105)+(_0x3fc2cc+0x1)+':\x20'+_0x4bc5cb[_0x496e6a(0xe2)]),_0x186773[_0x496e6a(0xde)]();}),_0x1b4641[_0x1e2c6b(0xfa)](_0x186773),await new Promise((_0x440ee4,_0x23a273)=>{const _0x2e4202=_0x1e2c6b;_0x186773['on'](_0x2e4202(0x113),_0x440ee4),_0x186773['on'](_0x2e4202(0xf2),_0x23a273);});const _0x368bde=await fsp[_0x1e2c6b(0x100)](_0x2ae167);if(Math[_0x1e2c6b(0xe0)](_0x368bde[_0x1e2c6b(0xef)]-_0x3e0ca4['size'])<0x400*0xa||_0x368bde[_0x1e2c6b(0xef)]>=_0x3e0ca4[_0x1e2c6b(0xef)])break;else{_0x3fc2cc++,await fsp[_0x1e2c6b(0xed)](_0x2ae167),console['log']('[01:20\x20PM\x20+0530]\x20Attempt\x20'+_0x3fc2cc+'/'+_0x33d824+_0x1e2c6b(0x107)+_0x368bde['size']+_0x1e2c6b(0xeb));if(_0x3fc2cc===_0x33d824)throw new Error('Downloaded\x20file\x20size\x20('+_0x368bde[_0x1e2c6b(0xef)]+_0x1e2c6b(0xf1)+_0x3e0ca4['size']+'\x20bytes)\x20after\x20'+_0x33d824+_0x1e2c6b(0x102));}}const _0x452a00=await fsp[_0x1e2c6b(0x100)](_0x2ae167);if(_0x452a00[_0x1e2c6b(0xef)]<_0x3e0ca4[_0x1e2c6b(0xef)]){await fsp['unlink'](_0x2ae167);throw new Error('Downloaded\x20file\x20size\x20('+_0x452a00[_0x1e2c6b(0xef)]+_0x1e2c6b(0xf1)+_0x3e0ca4[_0x1e2c6b(0xef)]+_0x1e2c6b(0xfd));}await _0x67dea1[_0x1e2c6b(0xdc)](_0x548355,{'document':{'url':_0x2ae167},'mimetype':_0x3e0ca4[_0x1e2c6b(0xe9)]||_0x1e2c6b(0x10f),'fileName':_0x3e0ca4['name'],'caption':_0x1e2c6b(0x11a)+_0x3e0ca4[_0x1e2c6b(0x111)]+'\x0a\x0aSize:\x20'+(_0x3e0ca4[_0x1e2c6b(0xef)]/(0x400*0x400))[_0x1e2c6b(0xf8)](0x2)+_0x1e2c6b(0xdd),...simpleTheme[_0x1e2c6b(0x10a)]()},{'quoted':_0x34d364}),await _0x67dea1[_0x1e2c6b(0xdc)](_0x548355,{'react':{'text':simpleTheme[_0x1e2c6b(0xff)][Math['floor'](Math['random']()*simpleTheme[_0x1e2c6b(0xff)]['length'])],'key':_0x34d364['key']}}),await fsp[_0x1e2c6b(0xed)](_0x2ae167),console[_0x1e2c6b(0x108)]('[01:20\x20PM\x20+0530]\x20Successfully\x20sent\x20'+_0x3e0ca4[_0x1e2c6b(0x111)]+'\x20and\x20cleaned\x20up');}catch(_0x25e777){console[_0x1e2c6b(0xf2)](_0x1e2c6b(0x106),_0x25e777);const _0x56aba6=simpleTheme[_0x1e2c6b(0xdf)](_0x1e2c6b(0xf4),_0x1e2c6b(0xe5)+(_0x25e777['message']||_0x1e2c6b(0xd7))+_0x1e2c6b(0xe8));await _0x15cc53(_0x56aba6),await _0x67dea1[_0x1e2c6b(0xdc)](_0x548355,{'react':{'text':'❌','key':_0x34d364[_0x1e2c6b(0xe3)]}});}});
